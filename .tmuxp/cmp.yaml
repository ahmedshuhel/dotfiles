session_name: cmp
windows:
  - window_name: workspace
    focus: true
    layout: main-horizontal
    start_directory: ~/Workspace/marketingplatform
    options:
      main-pane-height: 40
    panes:
      - shell_command:
          - nvm use 8.11.1
          - vim
      - shell_command:
          - nvm use 8.11.1
  - window_name: ps
    layout: main-horizontal
    start_directory: ~/Workspace/publishing-service
    options:
      main-pane-height: 40
    panes:
      - shell_command:
          - nvm use 8.11.1
      - shell_command:
          - nvm use 8.11.1
  - window_name: cs
    layout: main-horizontal
    start_directory: ~/Workspace/channel-service
    options:
      main-pane-height: 40
    panes:
      - shell_command:
          - nvm use 12.13.1
      - shell_command:
          - nvm use 12.13.1
  - window_name: server
    layout: even-vertical
    panes:
      - start_directory: ~/Workspace/marketingplatform
        shell_command:
          - cd ~/Workspace/marketingplatform
          - nvm use 8.11.1
          - grunt
      - start_directory: ~/Workspace/channel-service
        shell_command:
          - nvm use 12.13.1
          - NODE_ENV=development nodemon server.js
      - start_directory: ~/Workspace/publishing-service
        shell_command:
          - nvm use 8.11.1
          - PM2_DEV_HOME=.pm2_ps_dev npm start
