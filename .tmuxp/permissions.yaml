session_name: permissions
windows:
- focus: 'true'
  options:
    automatic-rename: 'off'
  panes:
  - shell_command:
    - pyenv activate permissions-env
    - nvim
  - focus: 'true'
    shell_command:
     - pyenv activate permissions-env
  start_directory: ~/Workspace/permissions
  window_name: workspace
- window_name: server
  ooptions:
    automatic-rename: 'off'
  panes:
  - shell_command:
    - pyenv activate permissions-env
    - docker start -a janusgraph-local || docker run --name janusgraph-local --mount source=janusgraph,target=/usr/share/janusgraph/data -p 8182:8182 janusgraph/janusgraph:latest
  - focus: 'true'
    shell_command:
    - pyenv activate permissions-env
    - uwsgi --http :5015 --wsgi permissions.consumers.localdev.http_consumer:app --master --processes 1 --threads 1 --py-autoreload 1
  start_directory: ~/Workspace/permissions
- window_name: gremlin
  options:
    automatic-rename: 'off'
  panes:
  - focus: 'true'
    shell_command:
    - docker run --rm --link janusgraph-local:janusgraph -e GREMLIN_REMOTE_HOSTS=janusgraph -it janusgraph/janusgraph:latest ./bin/gremlin.sh
  start_directory: ~/Workspace/permissions
